# Parking Camera Configuration File

[RTSP]
# RTSP stream configuration
# Full RTSP URL (format: rtsp://username:password@address:port/path)
# Leave empty or comment out to disable RTSP stream
# Examples:
#   rtsp://192.168.0.250:8554/mystream
#   rtsp://admin:password@192.168.0.250:8554/mystream
#   rtsp://user:pass@camera.example.com:554/stream
url = rtsp://192.168.0.250:8554/mystream
# Connection timeout in seconds (default: 10)
# Lower values = faster failure detection, higher values = more time to connect
timeout = 10

[VIDEO]
# Video source selection
# If true: use local video file instead of RTSP stream
# If false: use RTSP stream (if configured)
use_local_file = true
# Path to local video file (MP4, AVI, etc.)
# Can be relative to script directory or absolute path
# Example: videos/test.mp4 or /home/pi/videos/test.mp4
local_file_path = assets/video_480p.mp4

[ROI]
# Use full frame for detection and display (false = use ROI only)
# If true: runs CV on entire frame and fits it to LCD
# If false: runs CV on ROI only and shows only ROI on LCD
use_full_frame = false
# ROI definition method: "point_quadrant" or "coordinates"
#   point_quadrant: Define ROI using a point and quadrant (extends from point to corner)
#   coordinates: Define ROI using explicit x, y, width, height
roi_method = point_quadrant
# Region of Interest: Point + Quadrant method (when roi_method = point_quadrant)
# Format: point_x, point_y, quadrant
# Quadrants:
#   1 = Top right: from point to top-right corner (point is bottom-left of ROI)
#   2 = Top left: from point to top-left corner (point is bottom-right of ROI)
#   3 = Bottom left: from point to bottom-left corner (point is top-right of ROI)
#   4 = Bottom right: from point to bottom-right corner (point is top-left of ROI)
# Example: 450,400,4 means point at (450,400) and ROI extends to bottom-right corner
point_x = 450
point_y = 400
quadrant = 4
# Region of Interest: Coordinates method (when roi_method = coordinates)
# Format: x, y, width, height (in pixels)
# Example: 800,500,550,580 means ROI starts at (800,500) with size 550x580
x = 800
y = 500
width = 550
height = 580

[DETECTION]
# Detection engine: "yolo" (local YOLO model) or "moondream" (Moondream API)
# When using "moondream", set MOONDREAM_API_KEY environment variable
engine = moondream
# Show car status bar at the top of LCD
show_statusbar = true
# Detection thresholds
confidence_threshold = 0.4
# History buffer size (number of frames to keep)
history_size = 120
# Thresholds for state change (out of history_size)
car_present_threshold = 80
car_absent_threshold = 40
# CV processing interval in seconds (how often to run detection)
# Lower values = more frequent detection but higher CPU usage
# Recommended: 1-5 seconds for RPi
cv_interval = 5.0
# Temporal smoothing cycles for missed detections
# Number of whole detection cycles to keep car detected after last successful detection
# Example: 1 = keep detected for 1 cycle after last success (covers 1 missed detection)
# Example: 2 = keep detected for 2 cycles after last success (covers 2 missed detections)
# Higher values = more tolerance for missed detections, but slower to clear false positives
# Recommended: 1-2 cycles
temporal_smoothing_cycles = 1
# Moondream API rate limiting (only applies when engine = moondream)
# Minimum seconds between API calls (default: 60, max once per minute)
moondream_rate_limit_seconds = 60
# Moondream API time window (only applies when engine = moondream)
# Enable time window restriction (true/false)
moondream_time_window_enabled = true
# Time window start (24-hour format HH:MM, e.g., "10:00")
moondream_time_window_start = 10:00
# Time window end (24-hour format HH:MM, e.g., "22:00")
moondream_time_window_end = 22:00

[CLOCK]
# Enable clock display on LCD
enabled = true

[TEMPERATURE]
# Temperature sensor configuration
# Enable temperature display on LCD
enabled = true
# Temperature thresholds for color interpolation (min, ideal, max)
min_value = 16
ideal_value = 22
max_value = 30

[HUMIDITY]
# Humidity sensor configuration
# Enable humidity display on LCD
enabled = true
# Humidity thresholds for color interpolation (min, ideal, max)
min_value = 25
ideal_value = 50
max_value = 75

[DISPLAY]
# Font configuration
# Path to the font file (relative to script directory or absolute path)
# Default: assets/RobotoMonoMedium.ttf
font_path = assets/RobotoMonoMedium.ttf